<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TOBI SignalServer: USBamp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>USBamp Class Reference</h1><!-- doxytag: class="USBamp" --><!-- doxytag: inherits="HWThread" -->
<p>A class to wrap the API provided by g.tec for the g.USBamp and enable synchronous and asynchronous data access.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="usbamp_8h_source.html">usbamp.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for USBamp:</div>
<div class="dynsection">
<div class="center"><img src="class_u_s_bamp__inherit__graph.png" border="0" usemap="#_u_s_bamp_inherit__map" alt="Inheritance graph"/></div>
<map name="_u_s_bamp_inherit__map" id="_u_s_bamp_inherit__map">
<area shape="rect" href="class_h_w_thread.html" title="Base class for all hardware objects." alt="" coords="5,5,224,765"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for USBamp:</div>
<div class="dynsection">
<div class="center"><img src="class_u_s_bamp__coll__graph.png" border="0" usemap="#_u_s_bamp_coll__map" alt="Collaboration graph"/></div>
<map name="_u_s_bamp_coll__map" id="_u_s_bamp_coll__map">
<area shape="rect" href="class_h_w_thread.html" title="Base class for all hardware objects." alt="" coords="115,1995,333,2755"/><area shape="rect" href="class_sample_block.html" title="{SampleBlock\&lt; double \&gt;\n|&#45; blocks\l&#45; channels\l&#45; homogenous\l&#45; curr_block\l&#45; types_ordered\l&#45; types_input\l&#45; block_info\l&#45; samples\l|+ SampleBlock()\l+ ~SampleBlock()\l+ getNrOfBlocks()\l+ getNrOfChannels()\l+ getNrOfSamples()\l+ getNrOfSignalTypes()\l+ deleteSamples()\l+ reset()\l+ at()\l+ operator[]()\l+ init()\l+ getTypes()\l+ getSamples()\l+ getFlagByNr()\l+ getSignalByFlag()\l+ getSignalByNr()\l+ appendBlock()\l+ setSamples()\l&#45; sort()\l&#45; checkBlockIntegrity()\l}" alt="" coords="5,1000,165,1573"/><area shape="rect" href="class_sample_block.html" title="A container storing and sorting samples directly acquired from a data acquisition..." alt="" coords="7,5,164,579"/><area shape="rect" href="class_constants.html" title="Class constants manages all constants needed for the signalserver (especially xml..." alt="" coords="189,645,352,1928"/><area shape="rect" href="struct___g_n_d.html" title="{_GND\n|+ GND1\l+ GND2\l+ GND3\l+ GND4\l|}" alt="" coords="357,2303,424,2447"/><area shape="rect" href="struct___r_e_f.html" title="{_REF\n|+ ref1\l+ ref2\l+ ref3\l+ ref4\l|}" alt="" coords="448,2303,504,2447"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_u_s_bamp-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a976921f7f93a4f9df83a451ba657063b"></a><!-- doxytag: member="USBamp::USBamp" ref="a976921f7f93a4f9df83a451ba657063b" args="(boost::asio::io_service &amp;io, const HWConfig &amp;config)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>USBamp</b> (boost::asio::io_service &amp;io, const HWConfig &amp;config)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_bamp.html#ae5aa6002d425924a95d102f1d890c84c">getSyncData</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Abstract method to achieve synchronous data acquisition (method is blocking).  <a href="#ae5aa6002d425924a95d102f1d890c84c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_bamp.html#a645a210ffbc5931560f91c8ee6896300">getAsyncData</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Abstract method to achieve asynchronous data acquisition (method is non-blocking).  <a href="#a645a210ffbc5931560f91c8ee6896300"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ef290d2b3a7dd3a7932beba701257f0"></a><!-- doxytag: member="USBamp::run" ref="a7ef290d2b3a7dd3a7932beba701257f0" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_bamp.html#a7ef290d2b3a7dd3a7932beba701257f0">run</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Abstract method to start data acquisition. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A class to wrap the API provided by g.tec for the g.USBamp and enable synchronous and asynchronous data access. </p>
<p>This class is built to gather access to the g.tec g.USBamp (usbamp). It wraps the C API provided by g.tec to be used in the TOBI signalserver. It is able to acquire data from different usbamps in a synchronous and asynchronous manner and letting them appear as one single device. Configuration has to be done by an tinyXML object, satisfying the configuration file specifications for the signalserver project. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a645a210ffbc5931560f91c8ee6896300"></a><!-- doxytag: member="USBamp::getAsyncData" ref="a645a210ffbc5931560f91c8ee6896300" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; float &gt; USBamp::getAsyncData </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Abstract method to achieve asynchronous data acquisition (method is non-blocking). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_sample_block.html">SampleBlock&lt;double&gt;</a></dd></dl>
<p>This method return immediately after calling with a copy of the data stored in the device's buffer. It is called from all slave devices. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>If hardware clocks are not running with the same sampling rate or drifting (e.g. master - 128Hz, slave 129Hz), this method could be called although no new data is available (master faster than slave) or one sample has been lost (master slower than slave). Up to now no compensation method (e.g. interpolation) has been implemented! </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>Implement a compensation method, if clocks are drifting or similar (e.g. interpolation). </dd></dl>

<p>Implements <a class="el" href="class_h_w_thread.html#aa709526a915411a495a947f6bc6e06f9">HWThread</a>.</p>

</div>
</div>
<a class="anchor" id="ae5aa6002d425924a95d102f1d890c84c"></a><!-- doxytag: member="USBamp::getSyncData" ref="ae5aa6002d425924a95d102f1d890c84c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; float &gt; USBamp::getSyncData </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Abstract method to achieve synchronous data acquisition (method is blocking). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_sample_block.html">SampleBlock&lt;double&gt;</a></dd></dl>
<p>This method returns after new data has been acquired, it is operating in blocking mode. It is called only from the master device. </p>

<p>Implements <a class="el" href="class_h_w_thread.html#add1215b3e0f06a856330f2debd7ea2fe">HWThread</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/breidi/Dropbox/signalserver/hardware/<a class="el" href="usbamp_8h_source.html">usbamp.h</a></li>
<li>/home/breidi/Dropbox/signalserver/hardware/usbamp.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Thu Nov 12 16:57:28 2009 for TOBI SignalServer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
